# ======================================================================================
# COPIER TEMPLATE FOR GENERAI PROJECTS
# https://copier.readthedocs.io/
# ======================================================================================

# CONFIGURATION -------------------------
_min_copier_version: "9.4.0"
_subdirectory: template
_templates_suffix: .jinja
_preserve_symlinks: true

_envops:
  autoescape: false
  keep_trailing_newline: true

_jinja_extensions:
  - copier_templates_extensions.TemplateExtensionLoader
  - extensions.py:GitExtension
  - extensions.py:SlugifyExtension
  - extensions.py:CurrentYearExtension
  - jinja2.ext.do
  - jinja2.ext.loopcontrols

_skip_if_exists:
  - .env
  - data/
  - CHANGELOG.md

# MESSAGE AFTER COPY --------------------
_message_after_copy: |
  Your GenAI project "{{ project_name }}" has been created successfully!

  Next steps:
    1. Navigate to your project:
       cd {{ project_slug }}

    2. Initialize git repository:
       git init

    3. Set up development environment:
       bash scripts/setup_env.sh
       # This will:
       # - Create a virtual environment with uv
       # - Install all dependencies
       # - Set up pre-commit hooks

    4. Configure your LLM provider:
       # Edit config/model_config.yaml
       # Add API keys to .env (copy from .env.example)

    5. Run tests to verify setup:
       make test
       # Or: uv run pytest

    6. Start developing:
       make help  # See all available commands

  Documentation:
    - README.md: Project overview and usage
    - AGENTS.md: AI agent development guide
    - config/: Configuration files

  Happy coding!

# PROMPT --------------------------------

# Project Metadata
project_name:
  type: str
  help: "What is the name of your GenAI project?"
  default: "my-genai-app"

project_slug:
  type: str
  help: "Project slug (used for directory name)"
  default: "{{ project_name|lower|replace(' ', '-')|replace('_', '-') }}"

python_package_distribution_name:
  type: str
  help: "Python package distribution name (for 'pip install NAME')"
  default: "{{ project_name | slugify }}"

python_package_import_name:
  type: str
  help: "Python package import name (for 'import NAME' in Python code)"
  default: "{{ project_name | slugify('_') }}"

python_package_command_line_name:
  type: str
  help: "CLI name if any (for use in the shell)"
  default: "{{ project_name | slugify }}"

project_description:
  type: str
  help: "Brief description of your project"
  default: "A scalable Generative AI application"

# Author Information
author_name:
  type: str
  help: "Author full name"
  default: "{{ '' | git_user_name }}"

author_email:
  type: str
  help: "Author email"
  default: "{{ '' | git_user_email }}"

author_username:
  type: str
  help: "Your username (e.g. on GitHub)"
  default: "{{ author_name | slugify }}"

repository_provider:
  type: str
  help: "Repository provider"
  default: github.com
  choices:
    - github.com
    - gitlab.com
    - bitbucket.org

repository_namespace:
  type: str
  help: "Repository namespace (organization or username)"
  default: "{{ author_username }}"

repository_name:
  type: str
  help: "Repository name"
  default: "{{ project_name | slugify }}"

copyright_holder:
  type: str
  help: "Copyright holder name"
  default: "{{ author_name }}"

copyright_holder_email:
  type: str
  help: "Copyright holder email"
  default: "{{ author_email }}"

copyright_date:
  type: str
  help: "Copyright date"
  default: "{{ current_year }}"

# LLM Provider Selection
provider:
  type: str
  help: "Which LLM provider are you starting with?"
  choices:
    - openai
    - claude
    - ollama
    - vllm
  default: openai

# RAG Configuration
include_rag:
  type: bool
  help: "Do you need a RAG module (Vector DB/Embeddings)?"
  default: true

vector_db:
  type: str
  help: "Which vector database to use?"
  choices:
    - chromadb
    - qdrant
    - pinecone
    - weaviate
  default: chromadb
  when: "{{ include_rag }}"

# Additional Features
include_docker:
  type: bool
  help: "Include Docker configuration?"
  default: true

python_version:
  type: str
  help: "Python version to use"
  choices:
    - "3.11"
    - "3.12"
    - "3.13"
  default: "3.12"

# License
copyright_license:
  type: str
  help: "Your project's license"
  default: MIT
  choices:
    MIT License: MIT
    Apache License 2.0: Apache-2.0
    BSD 3-Clause "New" or "Revised" License: BSD-3-Clause
    No License (Proprietary): None
